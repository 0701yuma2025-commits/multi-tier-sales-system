<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¨­å®š - å¤šæ®µéšå–¶æ¥­ä»£ç†åº—ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ </title>
    <script src="js/auth-check-simple.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background-color: #f3f4f6;
            min-height: 100vh;
        }
        
        /* ãƒ˜ãƒƒãƒ€ãƒ¼ */
        .header {
            background-color: white;
            border-bottom: 1px solid #e5e7eb;
            padding: 16px 24px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }
        
        .header h1 {
            font-size: 24px;
            color: #1f2937;
        }
        
        .user-info {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .user-name {
            color: #4b5563;
            font-size: 14px;
        }
        
        .logout-btn {
            padding: 8px 16px;
            background-color: #ef4444;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.2s;
        }
        
        .logout-btn:hover {
            background-color: #dc2626;
        }
        
        /* ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ */
        .nav {
            background-color: white;
            border-bottom: 1px solid #e5e7eb;
            padding: 0 24px;
        }
        
        .nav-list {
            display: flex;
            list-style: none;
            gap: 32px;
        }
        
        .nav-item {
            padding: 16px 0;
            position: relative;
            cursor: pointer;
            color: #6b7280;
            font-size: 15px;
            transition: color 0.2s;
        }
        
        .nav-item:hover {
            color: #3b82f6;
        }
        
        .nav-item.active {
            color: #3b82f6;
            font-weight: 500;
        }
        
        .nav-item.active::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 3px;
            background-color: #3b82f6;
        }
        
        /* ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */
        .main-content {
            padding: 32px;
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 250px 1fr;
            gap: 32px;
        }
        
        /* ã‚µã‚¤ãƒ‰ãƒãƒ¼ */
        .sidebar {
            background: white;
            border-radius: 8px;
            padding: 20px 0;
            height: fit-content;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }
        
        .sidebar-item {
            padding: 12px 24px;
            cursor: pointer;
            color: #4b5563;
            font-size: 15px;
            transition: all 0.2s;
            position: relative;
        }
        
        .sidebar-item:hover {
            color: #3b82f6;
            background-color: #f3f4f6;
        }
        
        .sidebar-item.active {
            color: #3b82f6;
            background-color: #eff6ff;
            font-weight: 500;
        }
        
        .sidebar-item.active::before {
            content: "";
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 3px;
            background-color: #3b82f6;
        }
        
        /* è¨­å®šã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */
        .settings-content {
            background: white;
            border-radius: 8px;
            padding: 32px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }
        
        .settings-section {
            display: none;
        }
        
        .settings-section.active {
            display: block;
        }
        
        .section-title {
            font-size: 24px;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 8px;
        }
        
        .section-description {
            color: #6b7280;
            font-size: 14px;
            margin-bottom: 32px;
        }
        
        /* ãƒ•ã‚©ãƒ¼ãƒ è¦ç´  */
        .form-group {
            margin-bottom: 24px;
        }
        
        .form-label {
            display: block;
            font-weight: 500;
            color: #374151;
            margin-bottom: 8px;
            font-size: 14px;
        }
        
        .form-input,
        .form-select,
        .form-textarea {
            width: 100%;
            padding: 10px 14px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 14px;
            transition: border-color 0.2s;
        }
        
        .form-input:focus,
        .form-select:focus,
        .form-textarea:focus {
            outline: none;
            border-color: #3b82f6;
        }
        
        .form-textarea {
            resize: vertical;
            min-height: 100px;
        }
        
        .form-hint {
            font-size: 13px;
            color: #6b7280;
            margin-top: 4px;
        }
        
        /* ã‚¹ã‚¤ãƒƒãƒ */
        .switch-group {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px 0;
            border-bottom: 1px solid #f3f4f6;
        }
        
        .switch-label {
            flex: 1;
        }
        
        .switch-title {
            font-weight: 500;
            color: #1f2937;
            margin-bottom: 4px;
        }
        
        .switch-description {
            font-size: 14px;
            color: #6b7280;
        }
        
        .switch {
            position: relative;
            width: 48px;
            height: 24px;
        }
        
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #d1d5db;
            transition: 0.3s;
            border-radius: 24px;
        }
        
        .slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: 0.3s;
            border-radius: 50%;
        }
        
        input:checked + .slider {
            background-color: #3b82f6;
        }
        
        input:checked + .slider:before {
            transform: translateX(24px);
        }
        
        /* ãƒœã‚¿ãƒ³ */
        .btn {
            padding: 10px 20px;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            border: none;
        }
        
        .btn-primary {
            background-color: #3b82f6;
            color: white;
        }
        
        .btn-primary:hover {
            background-color: #2563eb;
        }
        
        .btn-secondary {
            background-color: white;
            color: #6b7280;
            border: 1px solid #d1d5db;
        }
        
        .btn-secondary:hover {
            background-color: #f3f4f6;
        }
        
        .btn-danger {
            background-color: #ef4444;
            color: white;
        }
        
        .btn-danger:hover {
            background-color: #dc2626;
        }
        
        .button-group {
            display: flex;
            gap: 12px;
            margin-top: 32px;
        }
        
        /* æƒ…å ±ãƒœãƒƒã‚¯ã‚¹ */
        .info-box {
            background-color: #eff6ff;
            border: 1px solid #dbeafe;
            border-radius: 6px;
            padding: 16px;
            margin-bottom: 24px;
        }
        
        .info-box-title {
            font-weight: 600;
            color: #1e40af;
            margin-bottom: 4px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .info-box-content {
            color: #3730a3;
            font-size: 14px;
        }
        
        .warning-box {
            background-color: #fef3c7;
            border: 1px solid #fde68a;
            border-radius: 6px;
            padding: 16px;
            margin-bottom: 24px;
        }
        
        .warning-box-title {
            font-weight: 600;
            color: #92400e;
            margin-bottom: 4px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .warning-box-content {
            color: #78350f;
            font-size: 14px;
        }
        
        /* APIã‚­ãƒ¼è¡¨ç¤º */
        .api-key-container {
            display: flex;
            gap: 8px;
            margin-top: 8px;
        }
        
        .api-key-input {
            flex: 1;
            font-family: monospace;
            background-color: #f3f4f6;
        }
        
        .api-key-toggle {
            padding: 8px 12px;
            background-color: #6b7280;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
        }
        
        /* ãƒ†ãƒ¼ãƒ–ãƒ« */
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 16px;
        }
        
        th {
            text-align: left;
            padding: 12px;
            background-color: #f9fafb;
            border-bottom: 1px solid #e5e7eb;
            font-weight: 600;
            font-size: 14px;
            color: #4b5563;
        }
        
        td {
            padding: 12px;
            border-bottom: 1px solid #f3f4f6;
            font-size: 14px;
        }
        
        /* ãƒ¬ãƒ¼ãƒˆè¨­å®š */
        .rate-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 24px;
            margin-top: 24px;
        }
        
        .rate-card {
            border: 1px solid #e5e7eb;
            border-radius: 6px;
            padding: 20px;
        }
        
        .rate-tier {
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 12px;
            font-size: 16px;
        }
        
        .rate-input-group {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 8px;
        }
        
        .rate-label {
            flex: 1;
            font-size: 14px;
            color: #4b5563;
        }
        
        .rate-input {
            width: 80px;
            text-align: right;
        }
        
        .rate-suffix {
            color: #6b7280;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
    <header class="header">
        <h1>å¤šæ®µéšå–¶æ¥­ä»£ç†åº—ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã€ç®¡ç†è€…ã€‘</h1>
        <div class="user-info">
            <span class="user-name" id="userDisplay">èª­ã¿è¾¼ã¿ä¸­...</span>
            <button class="logout-btn" onclick="handleLogout()">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</button>
        </div>
    </header>
    
    <!-- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->
    <nav class="nav">
        <ul class="nav-list">
            <li class="nav-item" onclick="location.href='dashboard-admin.html'">ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</li>
            <li class="nav-item" onclick="location.href='agencies-admin.html'">ä»£ç†åº—ç®¡ç†</li>
            <li class="nav-item" onclick="location.href='sales-functions.html'">å£²ä¸Šç®¡ç†</li>
            <li class="nav-item" onclick="location.href='commissions-admin.html'">å ±é…¬ç®¡ç†</li>
            <li class="nav-item active">è¨­å®š</li>
        </ul>
    </nav>
    
    <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
    <main class="main-content">
        <!-- ã‚µã‚¤ãƒ‰ãƒãƒ¼ -->
        <aside class="sidebar">
            <div class="sidebar-item active" onclick="switchSection('general')">
                ä¸€èˆ¬è¨­å®š
            </div>
            <div class="sidebar-item" onclick="switchSection('commission')">
                å ±é…¬è¨­å®š
            </div>
            <div class="sidebar-item" onclick="switchSection('notification')">
                é€šçŸ¥è¨­å®š
            </div>
            <div class="sidebar-item" onclick="switchSection('security')">
                ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
            </div>
            <div class="sidebar-item" onclick="switchSection('api')">
                APIè¨­å®š
            </div>
            <div class="sidebar-item" onclick="switchSection('export')">
                ãƒ‡ãƒ¼ã‚¿ç®¡ç†
            </div>
        </aside>
        
        <!-- è¨­å®šã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
        <div class="settings-content">
            <!-- ä¸€èˆ¬è¨­å®š -->
            <div class="settings-section active" id="general-section">
                <h2 class="section-title">ä¸€èˆ¬è¨­å®š</h2>
                <p class="section-description">ã‚·ã‚¹ãƒ†ãƒ ã®åŸºæœ¬çš„ãªè¨­å®šã‚’ç®¡ç†ã—ã¾ã™</p>
                
                <div class="form-group">
                    <label class="form-label">ã‚·ã‚¹ãƒ†ãƒ å</label>
                    <input type="text" class="form-input" value="å¤šæ®µéšå–¶æ¥­ä»£ç†åº—ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ " id="systemName">
                    <p class="form-hint">ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã‚„ãƒ¡ãƒ¼ãƒ«ã«è¡¨ç¤ºã•ã‚Œã‚‹ã‚·ã‚¹ãƒ†ãƒ åã§ã™</p>
                </div>
                
                <div class="form-group">
                    <label class="form-label">ä¼šç¤¾å</label>
                    <input type="text" class="form-input" value="æ ªå¼ä¼šç¤¾ã‚µãƒ³ãƒ—ãƒ«" id="companyName">
                </div>
                
                <div class="form-group">
                    <label class="form-label">ç®¡ç†è€…ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹</label>
                    <input type="email" class="form-input" value="admin@example.com" id="adminEmail">
                    <p class="form-hint">ã‚·ã‚¹ãƒ†ãƒ é€šçŸ¥ã®é€ä¿¡å…ƒã¨ã—ã¦ä½¿ç”¨ã•ã‚Œã¾ã™</p>
                </div>
                
                <div class="form-group">
                    <label class="form-label">ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³</label>
                    <select class="form-select" id="timezone">
                        <option value="Asia/Tokyo" selected>Asia/Tokyo (JST)</option>
                        <option value="UTC">UTC</option>
                        <option value="America/New_York">America/New_York (EST)</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label">è¨€èª</label>
                    <select class="form-select" id="language">
                        <option value="ja" selected>æ—¥æœ¬èª</option>
                        <option value="en">English</option>
                        <option value="zh">ä¸­æ–‡</option>
                    </select>
                </div>
                
                <div class="button-group">
                    <button class="btn btn-primary" onclick="saveGeneralSettings()">ä¿å­˜</button>
                    <button class="btn btn-secondary" onclick="resetGeneralSettings()">ãƒªã‚»ãƒƒãƒˆ</button>
                </div>
            </div>
            
            <!-- å ±é…¬è¨­å®š -->
            <div class="settings-section" id="commission-section">
                <h2 class="section-title">å ±é…¬è¨­å®š</h2>
                <p class="section-description">éšå±¤åˆ¥ã®å ±é…¬ç‡ã¨å„ç¨®ãƒœãƒ¼ãƒŠã‚¹ã®è¨­å®šã‚’ç®¡ç†ã—ã¾ã™</p>
                
                <div class="info-box">
                    <div class="info-box-title">
                        ğŸ’¡ å ±é…¬è¨ˆç®—ã«ã¤ã„ã¦
                    </div>
                    <div class="info-box-content">
                        å ±é…¬ã¯å£²ä¸Šã‚’é”æˆã—ãŸä»£ç†åº—ã‹ã‚‰ä¸Šä½éšå±¤ã«å‘ã‹ã£ã¦è¨ˆç®—ã•ã‚Œã¾ã™ã€‚
                        å„éšå±¤ã§è¨­å®šã•ã‚ŒãŸå ±é…¬ç‡ãŒé©ç”¨ã•ã‚Œã€ã•ã‚‰ã«éšå±¤ãƒœãƒ¼ãƒŠã‚¹ãŒåŠ ç®—ã•ã‚Œã¾ã™ã€‚
                    </div>
                </div>
                
                <h3 style="font-size: 18px; font-weight: 600; color: #1f2937; margin-bottom: 16px;">åŸºæœ¬å ±é…¬ç‡</h3>
                <div class="rate-grid">
                    <div class="rate-card">
                        <div class="rate-tier">Tier 1ï¼ˆæœ€ä¸Šä½ï¼‰</div>
                        <div class="rate-input-group">
                            <span class="rate-label">åŸºæœ¬å ±é…¬ç‡</span>
                            <input type="number" class="form-input rate-input" value="30" min="0" max="100" id="tier1Rate">
                            <span class="rate-suffix">%</span>
                        </div>
                        <div class="rate-input-group">
                            <span class="rate-label">éšå±¤ãƒœãƒ¼ãƒŠã‚¹</span>
                            <input type="number" class="form-input rate-input" value="10" min="0" max="100" id="tier1Bonus">
                            <span class="rate-suffix">%</span>
                        </div>
                    </div>
                    
                    <div class="rate-card">
                        <div class="rate-tier">Tier 2</div>
                        <div class="rate-input-group">
                            <span class="rate-label">åŸºæœ¬å ±é…¬ç‡</span>
                            <input type="number" class="form-input rate-input" value="25" min="0" max="100" id="tier2Rate">
                            <span class="rate-suffix">%</span>
                        </div>
                        <div class="rate-input-group">
                            <span class="rate-label">éšå±¤ãƒœãƒ¼ãƒŠã‚¹</span>
                            <input type="number" class="form-input rate-input" value="8" min="0" max="100" id="tier2Bonus">
                            <span class="rate-suffix">%</span>
                        </div>
                    </div>
                    
                    <div class="rate-card">
                        <div class="rate-tier">Tier 3</div>
                        <div class="rate-input-group">
                            <span class="rate-label">åŸºæœ¬å ±é…¬ç‡</span>
                            <input type="number" class="form-input rate-input" value="20" min="0" max="100" id="tier3Rate">
                            <span class="rate-suffix">%</span>
                        </div>
                        <div class="rate-input-group">
                            <span class="rate-label">éšå±¤ãƒœãƒ¼ãƒŠã‚¹</span>
                            <input type="number" class="form-input rate-input" value="6" min="0" max="100" id="tier3Bonus">
                            <span class="rate-suffix">%</span>
                        </div>
                    </div>
                    
                    <div class="rate-card">
                        <div class="rate-tier">Tier 4</div>
                        <div class="rate-input-group">
                            <span class="rate-label">åŸºæœ¬å ±é…¬ç‡</span>
                            <input type="number" class="form-input rate-input" value="15" min="0" max="100" id="tier4Rate">
                            <span class="rate-suffix">%</span>
                        </div>
                        <div class="rate-input-group">
                            <span class="rate-label">éšå±¤ãƒœãƒ¼ãƒŠã‚¹</span>
                            <input type="number" class="form-input rate-input" value="4" min="0" max="100" id="tier4Bonus">
                            <span class="rate-suffix">%</span>
                        </div>
                    </div>
                </div>
                
                <h3 style="font-size: 18px; font-weight: 600; color: #1f2937; margin: 32px 0 16px;">ãã®ä»–ã®è¨­å®š</h3>
                
                <div class="switch-group">
                    <div class="switch-label">
                        <div class="switch-title">è‡ªå‹•æ‰¿èª</div>
                        <div class="switch-description">å£²ä¸Šç™»éŒ²æ™‚ã«å ±é…¬ã‚’è‡ªå‹•çš„ã«æ‰¿èªã—ã¾ã™</div>
                    </div>
                    <label class="switch">
                        <input type="checkbox" id="autoApprove">
                        <span class="slider"></span>
                    </label>
                </div>
                
                <div class="switch-group">
                    <div class="switch-label">
                        <div class="switch-title">éšå±¤ãƒœãƒ¼ãƒŠã‚¹ã®æœ‰åŠ¹åŒ–</div>
                        <div class="switch-description">ä¸Šä½éšå±¤ã¸ã®è¿½åŠ ãƒœãƒ¼ãƒŠã‚¹ã‚’æœ‰åŠ¹ã«ã—ã¾ã™</div>
                    </div>
                    <label class="switch">
                        <input type="checkbox" id="hierarchyBonus" checked>
                        <span class="slider"></span>
                    </label>
                </div>
                
                <div class="switch-group">
                    <div class="switch-label">
                        <div class="switch-title">æœˆæ¬¡ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ãƒœãƒ¼ãƒŠã‚¹</div>
                        <div class="switch-description">ç›®æ¨™é”æˆæ™‚ã®ç‰¹åˆ¥ãƒœãƒ¼ãƒŠã‚¹ã‚’æœ‰åŠ¹ã«ã—ã¾ã™</div>
                    </div>
                    <label class="switch">
                        <input type="checkbox" id="campaignBonus">
                        <span class="slider"></span>
                    </label>
                </div>
                
                <div class="button-group">
                    <button class="btn btn-primary" onclick="saveCommissionSettings()">ä¿å­˜</button>
                    <button class="btn btn-secondary" onclick="resetCommissionSettings()">ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã«æˆ»ã™</button>
                </div>
            </div>
            
            <!-- é€šçŸ¥è¨­å®š -->
            <div class="settings-section" id="notification-section">
                <h2 class="section-title">é€šçŸ¥è¨­å®š</h2>
                <p class="section-description">ãƒ¡ãƒ¼ãƒ«é€šçŸ¥ã‚„ã‚·ã‚¹ãƒ†ãƒ é€šçŸ¥ã®è¨­å®šã‚’ç®¡ç†ã—ã¾ã™</p>
                
                <h3 style="font-size: 18px; font-weight: 600; color: #1f2937; margin-bottom: 16px;">ãƒ¡ãƒ¼ãƒ«é€šçŸ¥</h3>
                
                <div class="switch-group">
                    <div class="switch-label">
                        <div class="switch-title">æ–°è¦ä»£ç†åº—ç™»éŒ²</div>
                        <div class="switch-description">æ–°ã—ã„ä»£ç†åº—ãŒç™»éŒ²ã•ã‚ŒãŸéš›ã«é€šçŸ¥ã—ã¾ã™</div>
                    </div>
                    <label class="switch">
                        <input type="checkbox" id="notifyNewAgency" checked>
                        <span class="slider"></span>
                    </label>
                </div>
                
                <div class="switch-group">
                    <div class="switch-label">
                        <div class="switch-title">å£²ä¸Šç™»éŒ²</div>
                        <div class="switch-description">æ–°ã—ã„å£²ä¸ŠãŒç™»éŒ²ã•ã‚ŒãŸéš›ã«é€šçŸ¥ã—ã¾ã™</div>
                    </div>
                    <label class="switch">
                        <input type="checkbox" id="notifyNewSale" checked>
                        <span class="slider"></span>
                    </label>
                </div>
                
                <div class="switch-group">
                    <div class="switch-label">
                        <div class="switch-title">å ±é…¬æ”¯æ‰•ã„</div>
                        <div class="switch-description">å ±é…¬ã®æ”¯æ‰•ã„å‡¦ç†ãŒå®Œäº†ã—ãŸéš›ã«é€šçŸ¥ã—ã¾ã™</div>
                    </div>
                    <label class="switch">
                        <input type="checkbox" id="notifyPayment" checked>
                        <span class="slider"></span>
                    </label>
                </div>
                
                <div class="switch-group">
                    <div class="switch-label">
                        <div class="switch-title">æœˆæ¬¡ãƒ¬ãƒãƒ¼ãƒˆ</div>
                        <div class="switch-description">æ¯æœˆ1æ—¥ã«å‰æœˆã®ã‚µãƒãƒªãƒ¼ãƒ¬ãƒãƒ¼ãƒˆã‚’é€ä¿¡ã—ã¾ã™</div>
                    </div>
                    <label class="switch">
                        <input type="checkbox" id="monthlyReport" checked>
                        <span class="slider"></span>
                    </label>
                </div>
                
                <h3 style="font-size: 18px; font-weight: 600; color: #1f2937; margin: 32px 0 16px;">é€šçŸ¥æ–¹æ³•</h3>
                
                <div class="form-group">
                    <label class="form-label">ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®é€šçŸ¥æ–¹æ³•</label>
                    <select class="form-select" id="notificationMethod">
                        <option value="email">ãƒ¡ãƒ¼ãƒ«ã®ã¿</option>
                        <option value="dashboard">ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰é€šçŸ¥ã®ã¿</option>
                        <option value="both" selected>ãƒ¡ãƒ¼ãƒ« + ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label">é€šçŸ¥ã®é »åº¦åˆ¶é™</label>
                    <select class="form-select" id="notificationFrequency">
                        <option value="realtime">ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ </option>
                        <option value="hourly">1æ™‚é–“ã”ã¨ã«ã¾ã¨ã‚ã¦</option>
                        <option value="daily" selected>1æ—¥1å›ã¾ã¨ã‚ã¦</option>
                    </select>
                </div>
                
                <div class="button-group">
                    <button class="btn btn-primary" onclick="saveNotificationSettings()">ä¿å­˜</button>
                    <button class="btn btn-secondary" onclick="testNotification()">ãƒ†ã‚¹ãƒˆé€šçŸ¥ã‚’é€ä¿¡</button>
                </div>
            </div>
            
            <!-- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®š -->
            <div class="settings-section" id="security-section">
                <h2 class="section-title">ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®š</h2>
                <p class="section-description">ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¨ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ã‚’ç®¡ç†ã—ã¾ã™</p>
                
                <div class="warning-box">
                    <div class="warning-box-title">
                        âš ï¸ é‡è¦ãªè¨­å®šã§ã™
                    </div>
                    <div class="warning-box-content">
                        ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®šã‚’å¤‰æ›´ã™ã‚‹ã¨ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚¢ã‚¯ã‚»ã‚¹ã«å½±éŸ¿ã‚’ä¸ãˆã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚
                    </div>
                </div>
                
                <h3 style="font-size: 18px; font-weight: 600; color: #1f2937; margin-bottom: 16px;">ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒªã‚·ãƒ¼</h3>
                
                <div class="form-group">
                    <label class="form-label">æœ€å°ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰é•·</label>
                    <input type="number" class="form-input" value="8" min="6" max="32" id="minPasswordLength">
                    <p class="form-hint">6æ–‡å­—ä»¥ä¸Š32æ–‡å­—ä»¥ä¸‹ã§è¨­å®šã—ã¦ãã ã•ã„</p>
                </div>
                
                <div class="switch-group">
                    <div class="switch-label">
                        <div class="switch-title">å¤§æ–‡å­—ã‚’å¿…é ˆã«ã™ã‚‹</div>
                        <div class="switch-description">ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã«æœ€ä½1æ–‡å­—ã®å¤§æ–‡å­—ã‚’è¦æ±‚ã—ã¾ã™</div>
                    </div>
                    <label class="switch">
                        <input type="checkbox" id="requireUppercase" checked>
                        <span class="slider"></span>
                    </label>
                </div>
                
                <div class="switch-group">
                    <div class="switch-label">
                        <div class="switch-title">æ•°å­—ã‚’å¿…é ˆã«ã™ã‚‹</div>
                        <div class="switch-description">ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã«æœ€ä½1æ–‡å­—ã®æ•°å­—ã‚’è¦æ±‚ã—ã¾ã™</div>
                    </div>
                    <label class="switch">
                        <input type="checkbox" id="requireNumbers" checked>
                        <span class="slider"></span>
                    </label>
                </div>
                
                <div class="switch-group">
                    <div class="switch-label">
                        <div class="switch-title">ç‰¹æ®Šæ–‡å­—ã‚’å¿…é ˆã«ã™ã‚‹</div>
                        <div class="switch-description">ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã«æœ€ä½1æ–‡å­—ã®ç‰¹æ®Šæ–‡å­—ã‚’è¦æ±‚ã—ã¾ã™</div>
                    </div>
                    <label class="switch">
                        <input type="checkbox" id="requireSpecial">
                        <span class="slider"></span>
                    </label>
                </div>
                
                <h3 style="font-size: 18px; font-weight: 600; color: #1f2937; margin: 32px 0 16px;">ãƒ­ã‚°ã‚¤ãƒ³ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£</h3>
                
                <div class="form-group">
                    <label class="form-label">ãƒ­ã‚°ã‚¤ãƒ³è©¦è¡Œå›æ•°ã®åˆ¶é™</label>
                    <input type="number" class="form-input" value="5" min="3" max="10" id="maxLoginAttempts">
                    <p class="form-hint">æŒ‡å®šå›æ•°å¤±æ•—ã™ã‚‹ã¨ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãŒä¸€æ™‚çš„ã«ãƒ­ãƒƒã‚¯ã•ã‚Œã¾ã™</p>
                </div>
                
                <div class="form-group">
                    <label class="form-label">ãƒ­ãƒƒã‚¯æ™‚é–“ï¼ˆåˆ†ï¼‰</label>
                    <input type="number" class="form-input" value="30" min="5" max="1440" id="lockDuration">
                </div>
                
                <div class="switch-group">
                    <div class="switch-label">
                        <div class="switch-title">äºŒè¦ç´ èªè¨¼</div>
                        <div class="switch-description">ãƒ­ã‚°ã‚¤ãƒ³æ™‚ã«è¿½åŠ ã®èªè¨¼ã‚’è¦æ±‚ã—ã¾ã™</div>
                    </div>
                    <label class="switch">
                        <input type="checkbox" id="require2FA">
                        <span class="slider"></span>
                    </label>
                </div>
                
                <div class="switch-group">
                    <div class="switch-label">
                        <div class="switch-title">IPåˆ¶é™</div>
                        <div class="switch-description">ç‰¹å®šã®IPã‚¢ãƒ‰ãƒ¬ã‚¹ã‹ã‚‰ã®ã¿ã‚¢ã‚¯ã‚»ã‚¹ã‚’è¨±å¯ã—ã¾ã™</div>
                    </div>
                    <label class="switch">
                        <input type="checkbox" id="ipRestriction">
                        <span class="slider"></span>
                    </label>
                </div>
                
                <div class="button-group">
                    <button class="btn btn-primary" onclick="saveSecuritySettings()">ä¿å­˜</button>
                    <button class="btn btn-secondary" onclick="resetSecuritySettings()">ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã«æˆ»ã™</button>
                </div>
            </div>
            
            <!-- APIè¨­å®š -->
            <div class="settings-section" id="api-section">
                <h2 class="section-title">APIè¨­å®š</h2>
                <p class="section-description">å¤–éƒ¨é€£æºç”¨ã®APIè¨­å®šã¨ã‚¢ã‚¯ã‚»ã‚¹ã‚­ãƒ¼ã‚’ç®¡ç†ã—ã¾ã™</p>
                
                <div class="info-box">
                    <div class="info-box-title">
                        ğŸ” APIã‚­ãƒ¼ã«ã¤ã„ã¦
                    </div>
                    <div class="info-box-content">
                        APIã‚­ãƒ¼ã¯å¤–éƒ¨ã‚·ã‚¹ãƒ†ãƒ ã¨ã®é€£æºã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚å®‰å…¨ã«ç®¡ç†ã—ã€å®šæœŸçš„ã«æ›´æ–°ã—ã¦ãã ã•ã„ã€‚
                    </div>
                </div>
                
                <h3 style="font-size: 18px; font-weight: 600; color: #1f2937; margin-bottom: 16px;">ç¾åœ¨ã®APIã‚­ãƒ¼</h3>
                
                <div class="form-group">
                    <label class="form-label">å…¬é–‹ã‚­ãƒ¼ï¼ˆPublic Keyï¼‰</label>
                    <div class="api-key-container">
                        <input type="text" class="form-input api-key-input" value="pk_test_51234567890abcdefghijk" readonly id="publicKey">
                        <button class="api-key-toggle" onclick="toggleKeyVisibility('publicKey')">è¡¨ç¤º</button>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">ç§˜å¯†ã‚­ãƒ¼ï¼ˆSecret Keyï¼‰</label>
                    <div class="api-key-container">
                        <input type="password" class="form-input api-key-input" value="sk_test_51234567890abcdefghijk" readonly id="secretKey">
                        <button class="api-key-toggle" onclick="toggleKeyVisibility('secretKey')">è¡¨ç¤º</button>
                    </div>
                    <p class="form-hint">ç§˜å¯†ã‚­ãƒ¼ã¯çµ¶å¯¾ã«å…¬é–‹ã—ãªã„ã§ãã ã•ã„</p>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Webhook URL</label>
                    <input type="url" class="form-input" value="https://api.example.com/webhook" id="webhookUrl">
                    <p class="form-hint">ã‚¤ãƒ™ãƒ³ãƒˆé€šçŸ¥ã‚’å—ã‘å–ã‚‹ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆURL</p>
                </div>
                
                <h3 style="font-size: 18px; font-weight: 600; color: #1f2937; margin: 32px 0 16px;">APIä½¿ç”¨çŠ¶æ³</h3>
                
                <table>
                    <thead>
                        <tr>
                            <th>æ—¥ä»˜</th>
                            <th>ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ•°</th>
                            <th>æˆåŠŸç‡</th>
                            <th>å¹³å‡ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>2024-03-15</td>
                            <td>1,234</td>
                            <td>99.2%</td>
                            <td>124ms</td>
                        </tr>
                        <tr>
                            <td>2024-03-14</td>
                            <td>1,189</td>
                            <td>99.5%</td>
                            <td>118ms</td>
                        </tr>
                        <tr>
                            <td>2024-03-13</td>
                            <td>1,302</td>
                            <td>98.9%</td>
                            <td>132ms</td>
                        </tr>
                    </tbody>
                </table>
                
                <div class="button-group">
                    <button class="btn btn-primary" onclick="regenerateApiKeys()">APIã‚­ãƒ¼ã‚’å†ç”Ÿæˆ</button>
                    <button class="btn btn-secondary" onclick="testApiConnection()">æ¥ç¶šãƒ†ã‚¹ãƒˆ</button>
                </div>
            </div>
            
            <!-- ãƒ‡ãƒ¼ã‚¿ç®¡ç† -->
            <div class="settings-section" id="export-section">
                <h2 class="section-title">ãƒ‡ãƒ¼ã‚¿ç®¡ç†</h2>
                <p class="section-description">ã‚·ã‚¹ãƒ†ãƒ ãƒ‡ãƒ¼ã‚¿ã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã¨ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’ç®¡ç†ã—ã¾ã™</p>
                
                <h3 style="font-size: 18px; font-weight: 600; color: #1f2937; margin-bottom: 16px;">ãƒ‡ãƒ¼ã‚¿ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ</h3>
                
                <div class="form-group">
                    <label class="form-label">ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆå¯¾è±¡</label>
                    <select class="form-select" id="exportTarget">
                        <option value="all">ã™ã¹ã¦ã®ãƒ‡ãƒ¼ã‚¿</option>
                        <option value="agencies">ä»£ç†åº—ãƒ‡ãƒ¼ã‚¿</option>
                        <option value="sales">å£²ä¸Šãƒ‡ãƒ¼ã‚¿</option>
                        <option value="commissions">å ±é…¬ãƒ‡ãƒ¼ã‚¿</option>
                        <option value="users">ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒ¼ã‚¿</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label">æœŸé–“</label>
                    <select class="form-select" id="exportPeriod">
                        <option value="all">å…¨æœŸé–“</option>
                        <option value="year">éå»1å¹´</option>
                        <option value="quarter">éå»3ãƒ¶æœˆ</option>
                        <option value="month">éå»1ãƒ¶æœˆ</option>
                        <option value="custom">ã‚«ã‚¹ã‚¿ãƒ æœŸé–“</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label">ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ</label>
                    <select class="form-select" id="exportFormat">
                        <option value="csv">CSV</option>
                        <option value="excel">Excel (XLSX)</option>
                        <option value="json">JSON</option>
                        <option value="pdf">PDF</option>
                    </select>
                </div>
                
                <button class="btn btn-primary" onclick="exportData()">ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ</button>
                
                <h3 style="font-size: 18px; font-weight: 600; color: #1f2937; margin: 32px 0 16px;">è‡ªå‹•ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—</h3>
                
                <div class="switch-group">
                    <div class="switch-label">
                        <div class="switch-title">è‡ªå‹•ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’æœ‰åŠ¹åŒ–</div>
                        <div class="switch-description">æ¯æ—¥æ·±å¤œã«ã‚·ã‚¹ãƒ†ãƒ ãƒ‡ãƒ¼ã‚¿ã‚’è‡ªå‹•çš„ã«ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã—ã¾ã™</div>
                    </div>
                    <label class="switch">
                        <input type="checkbox" id="autoBackup" checked>
                        <span class="slider"></span>
                    </label>
                </div>
                
                <div class="form-group">
                    <label class="form-label">ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä¿æŒæœŸé–“</label>
                    <select class="form-select" id="backupRetention">
                        <option value="7">7æ—¥é–“</option>
                        <option value="14">14æ—¥é–“</option>
                        <option value="30" selected>30æ—¥é–“</option>
                        <option value="90">90æ—¥é–“</option>
                    </select>
                </div>
                
                <h3 style="font-size: 18px; font-weight: 600; color: #1f2937; margin: 32px 0 16px;">æœ€è¿‘ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—</h3>
                
                <table>
                    <thead>
                        <tr>
                            <th>æ—¥æ™‚</th>
                            <th>ã‚µã‚¤ã‚º</th>
                            <th>ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</th>
                            <th>ã‚¢ã‚¯ã‚·ãƒ§ãƒ³</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>2024-03-15 02:00:00</td>
                            <td>124.5 MB</td>
                            <td style="color: #10b981;">æˆåŠŸ</td>
                            <td>
                                <a href="#" style="color: #3b82f6; text-decoration: none;">ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</a>
                            </td>
                        </tr>
                        <tr>
                            <td>2024-03-14 02:00:00</td>
                            <td>123.8 MB</td>
                            <td style="color: #10b981;">æˆåŠŸ</td>
                            <td>
                                <a href="#" style="color: #3b82f6; text-decoration: none;">ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</a>
                            </td>
                        </tr>
                        <tr>
                            <td>2024-03-13 02:00:00</td>
                            <td>122.9 MB</td>
                            <td style="color: #10b981;">æˆåŠŸ</td>
                            <td>
                                <a href="#" style="color: #3b82f6; text-decoration: none;">ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</a>
                            </td>
                        </tr>
                    </tbody>
                </table>
                
                <div class="button-group">
                    <button class="btn btn-primary" onclick="createBackup()">ä»Šã™ããƒãƒƒã‚¯ã‚¢ãƒƒãƒ—</button>
                    <button class="btn btn-danger" onclick="clearOldBackups()">å¤ã„ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’å‰Šé™¤</button>
                </div>
            </div>
        </div>
    </main>
    
    <script>
        // ã‚»ã‚¯ã‚·ãƒ§ãƒ³åˆ‡ã‚Šæ›¿ãˆ
        function switchSection(section) {
            // ã‚µã‚¤ãƒ‰ãƒãƒ¼ã‚¢ã‚¤ãƒ†ãƒ ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ–çŠ¶æ…‹ã‚’æ›´æ–°
            document.querySelectorAll('.sidebar-item').forEach(item => {
                item.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®è¡¨ç¤ºã‚’åˆ‡ã‚Šæ›¿ãˆ
            document.querySelectorAll('.settings-section').forEach(sec => {
                sec.classList.remove('active');
            });
            document.getElementById(section + '-section').classList.add('active');
        }
        
        // ä¸€èˆ¬è¨­å®šã®ä¿å­˜
        function saveGeneralSettings() {
            const settings = {
                systemName: document.getElementById('systemName').value,
                companyName: document.getElementById('companyName').value,
                adminEmail: document.getElementById('adminEmail').value,
                timezone: document.getElementById('timezone').value,
                language: document.getElementById('language').value
            };
            
            console.log('ä¸€èˆ¬è¨­å®šã‚’ä¿å­˜:', settings);
            alert('ä¸€èˆ¬è¨­å®šã‚’ä¿å­˜ã—ã¾ã—ãŸ');
        }
        
        // ä¸€èˆ¬è¨­å®šã®ãƒªã‚»ãƒƒãƒˆ
        function resetGeneralSettings() {
            if (confirm('ä¸€èˆ¬è¨­å®šã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã«æˆ»ã—ã¾ã™ã‹ï¼Ÿ')) {
                document.getElementById('systemName').value = 'å¤šæ®µéšå–¶æ¥­ä»£ç†åº—ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ';
                document.getElementById('companyName').value = 'æ ªå¼ä¼šç¤¾ã‚µãƒ³ãƒ—ãƒ«';
                document.getElementById('adminEmail').value = 'admin@example.com';
                document.getElementById('timezone').value = 'Asia/Tokyo';
                document.getElementById('language').value = 'ja';
                alert('ä¸€èˆ¬è¨­å®šã‚’ãƒªã‚»ãƒƒãƒˆã—ã¾ã—ãŸ');
            }
        }
        
        // å ±é…¬è¨­å®šã®ä¿å­˜
        function saveCommissionSettings() {
            const settings = {
                tier1: {
                    rate: document.getElementById('tier1Rate').value,
                    bonus: document.getElementById('tier1Bonus').value
                },
                tier2: {
                    rate: document.getElementById('tier2Rate').value,
                    bonus: document.getElementById('tier2Bonus').value
                },
                tier3: {
                    rate: document.getElementById('tier3Rate').value,
                    bonus: document.getElementById('tier3Bonus').value
                },
                tier4: {
                    rate: document.getElementById('tier4Rate').value,
                    bonus: document.getElementById('tier4Bonus').value
                },
                autoApprove: document.getElementById('autoApprove').checked,
                hierarchyBonus: document.getElementById('hierarchyBonus').checked,
                campaignBonus: document.getElementById('campaignBonus').checked
            };
            
            console.log('å ±é…¬è¨­å®šã‚’ä¿å­˜:', settings);
            alert('å ±é…¬è¨­å®šã‚’ä¿å­˜ã—ã¾ã—ãŸ');
        }
        
        // å ±é…¬è¨­å®šã®ãƒªã‚»ãƒƒãƒˆ
        function resetCommissionSettings() {
            if (confirm('å ±é…¬è¨­å®šã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã«æˆ»ã—ã¾ã™ã‹ï¼Ÿ')) {
                document.getElementById('tier1Rate').value = 30;
                document.getElementById('tier1Bonus').value = 10;
                document.getElementById('tier2Rate').value = 25;
                document.getElementById('tier2Bonus').value = 8;
                document.getElementById('tier3Rate').value = 20;
                document.getElementById('tier3Bonus').value = 6;
                document.getElementById('tier4Rate').value = 15;
                document.getElementById('tier4Bonus').value = 4;
                document.getElementById('autoApprove').checked = false;
                document.getElementById('hierarchyBonus').checked = true;
                document.getElementById('campaignBonus').checked = false;
                alert('å ±é…¬è¨­å®šã‚’ãƒªã‚»ãƒƒãƒˆã—ã¾ã—ãŸ');
            }
        }
        
        // é€šçŸ¥è¨­å®šã®ä¿å­˜
        function saveNotificationSettings() {
            const settings = {
                newAgency: document.getElementById('notifyNewAgency').checked,
                newSale: document.getElementById('notifyNewSale').checked,
                payment: document.getElementById('notifyPayment').checked,
                monthlyReport: document.getElementById('monthlyReport').checked,
                method: document.getElementById('notificationMethod').value,
                frequency: document.getElementById('notificationFrequency').value
            };
            
            console.log('é€šçŸ¥è¨­å®šã‚’ä¿å­˜:', settings);
            alert('é€šçŸ¥è¨­å®šã‚’ä¿å­˜ã—ã¾ã—ãŸ');
        }
        
        // ãƒ†ã‚¹ãƒˆé€šçŸ¥
        function testNotification() {
            alert('ãƒ†ã‚¹ãƒˆé€šçŸ¥ã‚’é€ä¿¡ã—ã¾ã—ãŸã€‚ãƒ¡ãƒ¼ãƒ«ã‚’ã”ç¢ºèªãã ã•ã„ã€‚');
        }
        
        // ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®šã®ä¿å­˜
        function saveSecuritySettings() {
            const settings = {
                minPasswordLength: document.getElementById('minPasswordLength').value,
                requireUppercase: document.getElementById('requireUppercase').checked,
                requireNumbers: document.getElementById('requireNumbers').checked,
                requireSpecial: document.getElementById('requireSpecial').checked,
                maxLoginAttempts: document.getElementById('maxLoginAttempts').value,
                lockDuration: document.getElementById('lockDuration').value,
                require2FA: document.getElementById('require2FA').checked,
                ipRestriction: document.getElementById('ipRestriction').checked
            };
            
            console.log('ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®šã‚’ä¿å­˜:', settings);
            alert('ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®šã‚’ä¿å­˜ã—ã¾ã—ãŸ');
        }
        
        // ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®šã®ãƒªã‚»ãƒƒãƒˆ
        function resetSecuritySettings() {
            if (confirm('ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®šã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã«æˆ»ã—ã¾ã™ã‹ï¼Ÿ')) {
                document.getElementById('minPasswordLength').value = 8;
                document.getElementById('requireUppercase').checked = true;
                document.getElementById('requireNumbers').checked = true;
                document.getElementById('requireSpecial').checked = false;
                document.getElementById('maxLoginAttempts').value = 5;
                document.getElementById('lockDuration').value = 30;
                document.getElementById('require2FA').checked = false;
                document.getElementById('ipRestriction').checked = false;
                alert('ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®šã‚’ãƒªã‚»ãƒƒãƒˆã—ã¾ã—ãŸ');
            }
        }
        
        // APIã‚­ãƒ¼ã®è¡¨ç¤º/éè¡¨ç¤º
        function toggleKeyVisibility(keyId) {
            const input = document.getElementById(keyId);
            const button = event.target;
            
            if (input.type === 'password') {
                input.type = 'text';
                button.textContent = 'éš ã™';
            } else {
                input.type = 'password';
                button.textContent = 'è¡¨ç¤º';
            }
        }
        
        // APIã‚­ãƒ¼ã®å†ç”Ÿæˆ
        function regenerateApiKeys() {
            if (confirm('APIã‚­ãƒ¼ã‚’å†ç”Ÿæˆã—ã¾ã™ã‹ï¼Ÿ\næ—¢å­˜ã®é€£æºã¯å‹•ä½œã—ãªããªã‚Šã¾ã™ã€‚')) {
                // æ–°ã—ã„ã‚­ãƒ¼ã‚’ç”Ÿæˆï¼ˆãƒ‡ãƒ¢ç”¨ï¼‰
                const newPublicKey = 'pk_test_' + Math.random().toString(36).substring(2, 15);
                const newSecretKey = 'sk_test_' + Math.random().toString(36).substring(2, 15);
                
                document.getElementById('publicKey').value = newPublicKey;
                document.getElementById('secretKey').value = newSecretKey;
                
                alert('APIã‚­ãƒ¼ã‚’å†ç”Ÿæˆã—ã¾ã—ãŸ');
            }
        }
        
        // APIæ¥ç¶šãƒ†ã‚¹ãƒˆ
        function testApiConnection() {
            alert('APIæ¥ç¶šãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œä¸­...\n\nçµæœ: æ­£å¸¸ã«æ¥ç¶šã§ãã¾ã—ãŸ');
        }
        
        // ãƒ‡ãƒ¼ã‚¿ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
        function exportData() {
            const target = document.getElementById('exportTarget').value;
            const period = document.getElementById('exportPeriod').value;
            const format = document.getElementById('exportFormat').value;
            
            alert(`ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã‚’é–‹å§‹ã—ã¾ã—ãŸ\nå¯¾è±¡: ${target}\næœŸé–“: ${period}\nãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ: ${format}`);
        }
        
        // ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆ
        function createBackup() {
            if (confirm('ä»Šã™ããƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’ä½œæˆã—ã¾ã™ã‹ï¼Ÿ')) {
                alert('ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’é–‹å§‹ã—ã¾ã—ãŸã€‚å®Œäº†å¾Œã«é€šçŸ¥ã•ã‚Œã¾ã™ã€‚');
            }
        }
        
        // å¤ã„ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã®å‰Šé™¤
        function clearOldBackups() {
            if (confirm('30æ—¥ä»¥ä¸Šå‰ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’ã™ã¹ã¦å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ')) {
                alert('å¤ã„ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’å‰Šé™¤ã—ã¾ã—ãŸ');
            }
        }
        
        // ãƒ­ã‚°ã‚¢ã‚¦ãƒˆå‡¦ç†
        function handleLogout() {
            if (confirm('ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã—ã¾ã™ã‹ï¼Ÿ')) {
                localStorage.removeItem('currentUser');
                localStorage.removeItem('supabase.auth.token');
                window.location.replace('login.html?logout=true');
            }
        }
        
        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã®å‡¦ç†
        document.addEventListener('DOMContentLoaded', function() {
            // ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±è¡¨ç¤º
            const userStr = localStorage.getItem('currentUser');
            if (userStr) {
                try {
                    const user = JSON.parse(userStr);
                    document.getElementById('userDisplay').textContent = `${user.email} (${user.role === 'admin' ? 'ç®¡ç†è€…' : 'ä»£ç†åº—'})`;
                } catch (e) {
                    document.getElementById('userDisplay').textContent = 'admin@example.com (ç®¡ç†è€…)';
                }
            }
        });
    </script>
</body>
</html>